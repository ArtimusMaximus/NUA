datasource db {
  url      = "file: nodeunifi.db"
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model Credentials {
  id          Int          @id @default(autoincrement())
  username    String
  password    String
  hostname    String
  port        Int
  sslverify   Boolean
  theme       String?
  refreshRate Int?
}

model Device {
  id            Int          @id @default(autoincrement())
  name          String
  macAddress    String
  active        Boolean
  createdAt     DateTime     @default(now())
  crons         Cron[]
  schedules     Schedule[]

}

model Cron {
  id          Int          @id @default(autoincrement())
  createdAt   DateTime     @default(now())
  crontime    String
  crontype    String
  jobName     String?
  device      Device?      @relation(fields: [deviceId], references: [id])
  deviceId    Int?
  toggleCron  Boolean?
}

model Schedule {
  id              Int          @id @default(autoincrement())
  createdAt       DateTime     @default(now())
  scheduletime    String
  scheduletype    String
  jobName         String?
  device          Device?      @relation(fields: [deviceId], references: [id])
  deviceId        Int?
  toggleschedule  Boolean?
}

